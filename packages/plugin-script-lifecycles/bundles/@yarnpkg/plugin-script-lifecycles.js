/* eslint-disable */
module.exports = {
name: "@yarnpkg/plugin-script-lifecycles",
factory: function (require) {
var plugin;plugin=(()=>{"use strict";var t={304:(t,e,r)=>{r.r(e),r.d(e,{default:()=>s});var n=r(966);const i="pre-",o="post-";const s={hooks:{wrapScriptExecution:async function(t,e,r,s,a){const{configuration:c}=e,u=!c.get("userScriptLifecycleExcludes").get(s);return async()=>{const t=new n.StreamReport({configuration:c,stdout:a.stdout}),p=e.getWorkspaceByLocator(r).manifest.scripts.get(s);if(void 0===p)return 1;async function d(i){const o=`${i}${s}`;if(!u||!await n.scriptUtils.hasPackageScript(r,o,{project:e}))return 0;{const i=t.createStreamReporter();try{return await n.scriptUtils.executePackageScript(r,o,[],{cwd:a.cwd,project:e,stdin:a.stdin,stdout:i,stderr:i})}finally{i.destroy()}}}try{if(!s.startsWith(i)){const t=await d(i);if(0!==t)return t}const c=await t.startTimerPromise("Running "+s,async()=>{t.reportInfo(null,"âž¤ "+p);const i=t.createStreamReporter();try{return await n.scriptUtils.executePackageShellcode(r,p,a.args,{cwd:a.cwd,project:e,stdin:a.stdin,stdout:i,stderr:i})}finally{i.destroy()}});if(0!==c)return t.reportError(n.MessageName.EXCEPTION,`Script '${s}' returned non-zero return code. (${c})`),c;if(!s.startsWith(o)){const t=await d(o);if(0!==t)return t}}finally{await t.finalize()}return 0}}},configuration:{userScriptLifecycleExcludes:{description:"",type:n.SettingsType.MAP,valueDefinition:{description:"",type:n.SettingsType.BOOLEAN}}}}},966:t=>{t.exports=require("@yarnpkg/core")}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(304)})();
return plugin;
}
};